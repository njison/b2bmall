webpackJsonp([15],{351:function(t,e,a){function i(t){a(520)}var n=a(245)(a(449),a(569),i,"data-v-4cb84407",null);t.exports=n.exports},369:function(t,e,a){function i(t){a(372)}var n=a(245)(a(370),a(373),i,"data-v-39a213d4",null);t.exports=n.exports},370:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:{type:[String,Number],default:"一颗小按钮"},inputType:{type:[String],default:"button"},classStyle:{type:String,default:"default-btn"}},methods:{btnClick:function(t){this.$emit("btnClick",t)}}}},371:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,".default-btn[data-v-39a213d4],.disabled-btn[data-v-39a213d4],.main-btn[data-v-39a213d4]{width:100px;height:30px;line-height:28px;vertical-align:middle}input[data-v-39a213d4]{display:inline-block;cursor:pointer;text-align:center}.gray-btn[data-v-39a213d4]{border:1px solid #d5d5d5;color:#646464}.default-btn[data-v-39a213d4]{border:1px solid #e1e1e1;border-radius:4px;font-size:12px;color:#646464;background-color:#f9f9f9;background-image:-webkit-linear-gradient(top,#fff,#f9f9f9);background-image:linear-gradient(180deg,#fff,#f9f9f9)}.default-btn[data-v-39a213d4]:hover{background-color:#eee;background-image:-webkit-linear-gradient(top,#f5f5f5,#eee);background-image:linear-gradient(180deg,#f5f5f5,#eee)}.main-btn[data-v-39a213d4]{border:1px solid #5c81e3;border-radius:4px;font-size:12px;color:#fff;background-color:#678ee7;background-image:-webkit-linear-gradient(top,#678ee7,#5078df);background-image:linear-gradient(180deg,#678ee7,#5078df)}.main-btn[data-v-39a213d4]:hover{background-color:#6c8cd4;background-image:-webkit-linear-gradient(top,#6c8cd4,#4769c2);background-image:linear-gradient(180deg,#6c8cd4,#4769c2)}.disabled-btn[data-v-39a213d4]{cursor:not-allowed;border:1px solid #afafaf;border-radius:4px;font-size:12px;color:#fff;background-color:#a9a9a9;background-image:-webkit-linear-gradient(top,#b8b8b8,#a9a9a9);background-image:linear-gradient(180deg,#b8b8b8,#a9a9a9)}",""])},372:function(t,e,a){var i=a(371);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(340)("2817f91c",i,!0,{})},373:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{class:t.classStyle,attrs:{type:t.inputType,readonly:"",disabled:"disabled-btn"===t.classStyle},domProps:{value:t.text},on:{click:function(e){t.btnClick(e)}}})},staticRenderFns:[]}},374:function(t,e,a){"use strict";a.d(e,"r",function(){return n}),a.d(e,"f",function(){return r}),a.d(e,"h",function(){return o}),a.d(e,"q",function(){return s}),a.d(e,"g",function(){return d}),a.d(e,"k",function(){return c}),a.d(e,"j",function(){return l}),a.d(e,"i",function(){return p}),a.d(e,"b",function(){return u}),a.d(e,"c",function(){return f}),a.d(e,"d",function(){return b}),a.d(e,"e",function(){return v}),a.d(e,"o",function(){return g}),a.d(e,"m",function(){return m}),a.d(e,"l",function(){return h}),a.d(e,"n",function(){return x}),a.d(e,"a",function(){return y}),a.d(e,"p",function(){return _});var i=a(247),n=function(t){return i.a.fetchGet("/goods/allGoods",t)},r=function(t){return i.a.fetchPost("/cart/queryCartList",t)},o=function(t){return i.a.fetchPost("/cart/addCart",t)},s=function(t){return i.a.fetchPost("/cart/modifyCart",t)},d=function(t){return i.a.fetchPost("/cart/deleteCart",t)},c=function(t){return i.a.fetchPost("/terminalStatusMgr/addOrderAndOrderItem",t)},l=function(t){return i.a.fetchPost("/member/payOrder",t)},p=function(t){return i.a.fetchGet("/member/orderDetail",t)},u=function(t){return i.a.fetchPost("/goods/querySCGoodsInfo",t)},f=function(t){return i.a.fetchPost("/esservice/searchGoodsByKeyword",t)},b=function(t){return i.a.fetchPost("/dcData/getDcDataByDcName",t)},v=function(t){return i.a.fetchPost("/vender/queryVenderList",t)},g=function(t){return i.a.fetchPost("/address/queryAddressList",t)},m=function(t){return i.a.fetchPost("/address/addAddress",t)},h=function(t){return i.a.fetchPost("/address/modifyAddress",t)},x=function(t){return i.a.fetchPost("/address/deleteAddress",t)},y=function(t){return i.a.fetchPost("/terminalStatusMgr/queryOrderList",t)},_=function(t){return i.a.fetchPost("/terminalStatusMgr/orderCancel",t)}},375:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title"]}},376:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,".gray-box[data-v-379d4dd3]{position:relative;margin-bottom:30px;overflow:hidden;background:#fff;border-radius:8px;border:1px solid #dcdcdc;border-color:rgba(0,0,0,.14);box-shadow:0 3px 8px -6px rgba(0,0,0,.1)}.gray-box .title[data-v-379d4dd3]{padding-left:30px;position:relative;z-index:10;height:60px;padding:0 10px 0 24px;border-bottom:1px solid #d4d4d4;border-radius:8px 8px 0 0;box-shadow:0 1px 7px rgba(0,0,0,.06);background:#f3f3f3;background:-webkit-linear-gradient(#fbfbfb,#ececec);background:linear-gradient(#fbfbfb,#ececec);line-height:60px;font-size:18px;color:#333;display:flex;justify-content:space-between;align-items:center}.gray-box .title h2[data-v-379d4dd3]{font-size:18px;font-weight:400;color:#626262;display:inline-block}",""])},377:function(t,e,a){var i=a(376);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(340)("0d0b540d",i,!0,{})},378:function(t,e,a){function i(t){a(377)}var n=a(245)(a(375),a(379),i,"data-v-379d4dd3",null);t.exports=n.exports},379:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gray-box"},[a("div",{staticClass:"title"},[a("h2",[t._v(t._s(t.title))]),t._v(" "),a("div",[t._t("right")],2)]),t._v(" "),a("div",[t._t("content")],2)])},staticRenderFns:[]}},449:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(378),n=a.n(i),r=a(369),o=a.n(r),s=a(374),d=a(64);e.default={data:function(){return{payType:1,addList:{},cartList:[],addressId:0,productId:"",num:"",userId:"",orderTotal:0,userName:"",tel:"",streetName:"",payNow:"立刻支付",submit:!1,nickName:"",money:"1.00",info:"",email:"",orderId:"",type:"",moneySelect:"1.00",isCustom:!1,maxLength:30}},computed:{checkPrice:function(){var t=0;return this.cartList&&this.cartList.forEach(function(e){"1"===e.checked&&(t+=e.productNum*e.salePrice)}),t}},methods:{checkValid:function(){""!==this.nickName&&""!==this.money&&this.isMoney(this.money)&&""!==this.email&&this.isEmail(this.email)?this.submit=!0:this.submit=!1},messageFail:function(t){this.$message.error({message:t})},changeSelect:function(t){"custom"!==t?this.money=t:(this.isCustom=!0,this.money=""),this.checkValid()},goodsDetails:function(t){this.$router.push({path:"/goodsDetails",query:{goodsId:t}})},_getOrderDet:function(t){var e=this,i={params:{orderId:this.orderId}};a.i(s.i)(i).then(function(t){e.cartList=t.result.goodsList,e.userName=t.result.addressInfo.userName,e.tel=t.result.addressInfo.tel,e.streetName=t.result.addressInfo.streetName,e.orderTotal=t.result.orderTotal})},paySuc:function(){var t=this;this.payNow="支付中...",this.submit=!1,1===this.payType?this.type="Alipay":2===this.payType?this.type="Wechat":3===this.payType?this.type="QQ":this.type="其它",a.i(s.j)({nickName:this.nickName,money:this.money,info:this.info,email:this.email,orderId:this.orderId,userId:this.userId,payType:this.type}).then(function(e){!0===e.success?(a.i(d.b)("setTime",90),a.i(d.b)("price",t.money),a.i(d.b)("isCustom",t.isCustom),1===t.payType?t.$router.push({path:"/order/alipay"}):2===t.payType?t.$router.push({path:"/order/wechat"}):3===t.payType?t.$router.push({path:"/order/qqpay"}):t.$router.push({path:"/order/alipay"})):(t.payNow="立刻支付",t.submit=!0,t.messageFail(e.message))})},isMoney:function(t){if(t<.1)return!1;var e=/(^[1-9]([0-9]+)?(\.[0-9]{1,2})?$)|(^(0){1}$)|(^[0-9]\.[0-9]([0-9])?$)/;return!!new RegExp(e).test(t)},isEmail:function(t){var e=/^[a-z0-9]+([._\\-]*[a-z0-9])*@([a-z0-9]+[-a-z0-9]*[a-z0-9]+.){1,63}[a-z0-9]+$/;return!!new RegExp(e).test(t)}},created:function(){this.userId=a.i(d.a)("userId"),this.orderId=this.$route.query.orderId,this.orderId?this._getOrderDet(this.orderId):this.$router.push({path:"/"})},components:{YShelf:n.a,YButton:o.a}}},491:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,'.w[data-v-4cb84407]{padding-top:39px}.order-info[data-v-4cb84407]{padding:60px 0 55px;color:#333;background:#fff!important}.order-info h3[data-v-4cb84407]{padding-bottom:14px;line-height:36px;text-align:center;font-size:36px;color:#212121}.order-info .payment-detail[data-v-4cb84407]{text-align:center;line-height:24px;font-size:14px;color:#999}.pay-type[data-v-4cb84407]{margin:0 auto;width:90%;padding-bottom:30px}.pay-type .p-title[data-v-4cb84407]{font-size:18px;line-height:40px;padding:0 10px;position:relative}.pay-type .p-title[data-v-4cb84407]:before{content:" ";position:absolute;bottom:0;left:0;right:0;border-bottom:1px solid #ccc}.pay-type .pay-item[data-v-4cb84407]{display:flex;align-items:center}.pay-type .pay-item div[data-v-4cb84407]{margin-top:20px;width:175px;height:50px;display:flex;align-items:center;justify-content:center;border:1px solid #e5e5e5;cursor:pointer;border-radius:6px;margin-right:10px;background:#fafafa}.pay-type .pay-item div.active[data-v-4cb84407]{border-color:#6a8fe5;background:#fff}.pay-type .pay-item div img[data-v-4cb84407]{display:block;height:34px;margin:8px auto}.box-inner[data-v-4cb84407]{line-height:60px;background:#f9f9f9;border-top:1px solid #e5e5e5;box-sizing:border-box}.box-inner>div[data-v-4cb84407]{display:flex;justify-content:flex-end;align-items:center;padding:0 20px}.box-inner em[data-v-4cb84407]{margin-left:5px;font-size:24px;color:#d44d44;font-weight:700;margin-right:20px}.box-inner em span[data-v-4cb84407]{margin-right:4px;font-size:16px}.confirm-detail[data-v-4cb84407]{padding:0 30px 25px;border-top:1px solid #d5d5d5}.confirm-detail .info-title[data-v-4cb84407]{height:14px;margin:30px 0 17px;line-height:14px;font-weight:bolder;color:#333}.confirm-detail .info-detail[data-v-4cb84407]{line-height:24px;color:#666}.confirm-table-title[data-v-4cb84407]{padding:3px 0 0 33px;border-top:1px solid #d5d5d5;line-height:54px;font-weight:bolder;color:#000;display:flex;justify-content:space-between}.confirm-table-title span[data-v-4cb84407]{display:inline-block;width:175px;text-align:left}.confirm-table-title .price[data-v-4cb84407]{padding-left:80px}.confirm-table-title .num[data-v-4cb84407]{padding-left:75px}.confirm-table-title .subtotal[data-v-4cb84407]{padding-left:72px}.confirm-goods-table[data-v-4cb84407]{border-top:1px solid #d5d5d5}.confirm-goods-table .cart-items[data-v-4cb84407]{height:80px;display:flex;align-items:center;justify-content:space-between}.confirm-goods-table .cart-items a[data-v-4cb84407]{color:#333}.confirm-goods-table .n-b[data-v-4cb84407]{display:flex;align-items:center;justify-content:center}.confirm-goods-table .n-b>div[data-v-4cb84407]{color:#626262;font-weight:700;width:175px;text-align:center}.order-discount-line[data-v-4cb84407]{padding:22px 30px 53px;border-top:1px solid #d5d5d5;line-height:24px;text-align:right;font-size:12px}.order-discount-line[data-v-4cb84407]:first-child{line-height:32px;text-align:right;font-size:14px;font-weight:bolder}.name[data-v-4cb84407]{width:40%}.name-cell[data-v-4cb84407]{padding-left:33px}.input[data-v-4cb84407]{width:30%;margin:0 0 1vw 38px}.pay-info[data-v-4cb84407]{margin-top:-2vw;text-align:center}.money-select[data-v-4cb84407]{width:31%;padding-left:10px;margin-bottom:1vw}',""])},520:function(t,e,a){var i=a(491);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);a(340)("30d5bdea",i,!0,{})},569:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w",staticStyle:{"padding-bottom":"100px"}},[a("y-shelf",{attrs:{title:"支付订单"}},[a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"box-inner order-info"},[a("h3",[t._v("提交订单成功，请填写捐赠信息")]),t._v(" "),a("p",{staticClass:"payment-detail"},[t._v("请在 "),a("span",[t._v("24 小时内")]),t._v("完成支付，超时订单将自动取消。")]),t._v(" "),a("p",{staticClass:"payment-detail"},[t._v("我们不会在您完成支付后的 72 小时内发货，您的支付将用作捐赠")]),t._v(" "),a("p",{staticClass:"payment-detail",staticStyle:{color:"red"}},[t._v("请仔细填写捐赠信息，避免系统审核失败无法在捐赠名单中显示您的数据")])]),t._v(" "),a("div",{staticClass:"pay-info"},[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 昵称："),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入您的昵称",maxlength:t.maxLength},on:{change:t.checkValid},model:{value:t.nickName,callback:function(e){t.nickName=e},expression:"nickName"}}),a("br"),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 捐赠金额："),a("el-select",{staticClass:"money-select",attrs:{placeholder:"请选择支付金额"},on:{change:t.changeSelect},model:{value:t.moneySelect,callback:function(e){t.moneySelect=e},expression:"moneySelect"}},[a("el-option",{attrs:{label:"￥0.10 我是穷逼",value:"0.10"}}),t._v(" "),a("el-option",{attrs:{label:"￥1.00 支付测试",value:"1.00"}}),t._v(" "),a("el-option",{attrs:{label:"￥5.00 感谢捐赠",value:"5.00"}}),t._v(" "),a("el-option",{attrs:{label:"￥10.00 感谢大佬",value:"10.00"}}),t._v(" "),a("el-option",{attrs:{label:"自定义 随意撒币",value:"custom"}})],1),a("br"),t._v(" "),"custom"===t.moneySelect?a("div",[a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 输入金额："),a("el-input",{staticClass:"input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"请输入捐赠金额(最多2位小数，不得低于0.1元)",maxlength:t.maxLength},on:{change:t.checkValid},model:{value:t.money,callback:function(e){t.money=e},expression:"money"}}),a("br")],1):t._e(),t._v(" "),a("span",{staticStyle:{color:"red"}},[t._v("*")]),t._v(" 通知邮箱："),a("el-input",{staticClass:"input",staticStyle:{"margin-left":"10px"},attrs:{placeholder:"支付审核结果将以邮件方式发送至您的邮箱",maxlength:t.maxLength},on:{change:t.checkValid},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),a("br"),t._v("\n           留言："),a("el-input",{staticClass:"input",attrs:{placeholder:"请输入您的留言内容",maxlength:t.maxLength},model:{value:t.info,callback:function(e){t.info=e},expression:"info"}})],1),t._v(" "),a("div",{staticClass:"pay-type"},[a("div",{staticClass:"p-title"},[t._v("支付方式")]),t._v(" "),a("div",{staticClass:"pay-item"},[a("div",{class:{active:1==t.payType},on:{click:function(e){t.payType=1}}},[a("img",{attrs:{src:"/static/images/alipay@2x.png",alt:""}})]),t._v(" "),a("div",{class:{active:2==t.payType},on:{click:function(e){t.payType=2}}},[a("img",{attrs:{src:"/static/images/weixinpay@2x.png",alt:""}})]),t._v(" "),a("div",{class:{active:3==t.payType},on:{click:function(e){t.payType=3}}},[a("img",{attrs:{src:"/static/images/qqpay.png",alt:""}})])])]),t._v(" "),a("div",[a("div",{staticClass:"box-inner"},[a("div",[a("span",[t._v("\n              订单金额：\n            ")]),t._v(" "),a("em",[a("span",[t._v("¥")]),t._v(t._s(t.orderTotal.toFixed(2)))]),t._v(" "),a("span",[t._v("\n              实际应付金额：\n            ")]),t._v(" "),a("em",[a("span",[t._v("¥")]),t._v(t._s(t.money))]),t._v(" "),a("y-button",{staticStyle:{width:"120px",height:"40px","font-size":"16px","line-height":"38px"},attrs:{text:t.payNow,classStyle:t.submit?"main-btn":"disabled-btn"},on:{btnClick:function(e){t.paySuc()}}})],1)])])])]),t._v(" "),a("div",{staticClass:"p-msg w"},[a("div",{staticClass:"confirm-detail"},[a("div",{staticClass:"info-title"},[t._v("收货信息")]),t._v(" "),a("p",{staticClass:"info-detail"},[t._v("姓名："+t._s(t.userName))]),t._v(" "),a("p",{staticClass:"info-detail"},[t._v("联系电话："+t._s(t.tel))]),t._v(" "),a("p",{staticClass:"info-detail"},[t._v("详细地址："+t._s(t.streetName))])])]),t._v(" "),t._m(0),t._v(" "),a("div",{staticClass:"confirm-goods-table"},t._l(t.cartList,function(e,i){return a("div",{key:i,staticClass:"cart-items"},[a("div",{staticClass:"name"},[a("div",{staticClass:"name-cell ellipsis"},[a("a",{attrs:{title:"",target:"_blank"},on:{click:function(a){t.goodsDetails(e.productId)}}},[t._v(t._s(e.productName))])])]),t._v(" "),a("div",{staticClass:"n-b"},[a("div",{staticClass:"price"},[t._v("¥ "+t._s(e.salePrice))]),t._v(" "),a("div",{staticClass:"goods-num"},[t._v(t._s(e.productNum))]),t._v(" "),a("div",{staticClass:"subtotal"},[a("div",{staticClass:"subtotal-cell"},[t._v(" ¥ "+t._s(e.salePrice*e.productNum)),a("br")])])])])})),t._v(" "),a("div",{staticClass:"order-discount-line"},[a("p",{staticStyle:{"font-size":"14px","font-weight":"bolder"}},[a("span",{staticStyle:{"padding-right":"47px"}},[t._v("商品总计：")]),t._v(" "),a("span",{staticStyle:{"font-size":"16px","font-weight":"500","line-height":"32px"}},[t._v("¥ "+t._s(t.orderTotal))])]),t._v(" "),t._m(1)])],1)},staticRenderFns:[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"confirm-table-title"},[a("span",{staticClass:"name"},[t._v("商品信息")]),t._v(" "),a("div",[a("span",{staticClass:"price"},[t._v("单价")]),t._v(" "),a("span",{staticClass:"num"},[t._v("数量")]),t._v(" "),a("span",{staticClass:"subtotal"},[t._v("小计")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("p",[a("span",{staticStyle:{"padding-right":"30px"}},[t._v("运费：")]),a("span",{staticStyle:{"font-weight":"700"}},[t._v("+ ¥ 0.00")])])}]}}});