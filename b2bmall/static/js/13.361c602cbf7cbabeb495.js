webpackJsonp([13],{358:function(t,e,a){function s(t){a(517)}var r=a(245)(a(456),a(566),s,"data-v-47dab2a8",null);t.exports=r.exports},369:function(t,e,a){function s(t){a(372)}var r=a(245)(a(370),a(373),s,"data-v-39a213d4",null);t.exports=r.exports},370:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:{type:[String,Number],default:"一颗小按钮"},inputType:{type:[String],default:"button"},classStyle:{type:String,default:"default-btn"}},methods:{btnClick:function(t){this.$emit("btnClick",t)}}}},371:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,".default-btn[data-v-39a213d4],.disabled-btn[data-v-39a213d4],.main-btn[data-v-39a213d4]{width:100px;height:30px;line-height:28px;vertical-align:middle}input[data-v-39a213d4]{display:inline-block;cursor:pointer;text-align:center}.gray-btn[data-v-39a213d4]{border:1px solid #d5d5d5;color:#646464}.default-btn[data-v-39a213d4]{border:1px solid #e1e1e1;border-radius:4px;font-size:12px;color:#646464;background-color:#f9f9f9;background-image:-webkit-linear-gradient(top,#fff,#f9f9f9);background-image:linear-gradient(180deg,#fff,#f9f9f9)}.default-btn[data-v-39a213d4]:hover{background-color:#eee;background-image:-webkit-linear-gradient(top,#f5f5f5,#eee);background-image:linear-gradient(180deg,#f5f5f5,#eee)}.main-btn[data-v-39a213d4]{border:1px solid #5c81e3;border-radius:4px;font-size:12px;color:#fff;background-color:#678ee7;background-image:-webkit-linear-gradient(top,#678ee7,#5078df);background-image:linear-gradient(180deg,#678ee7,#5078df)}.main-btn[data-v-39a213d4]:hover{background-color:#6c8cd4;background-image:-webkit-linear-gradient(top,#6c8cd4,#4769c2);background-image:linear-gradient(180deg,#6c8cd4,#4769c2)}.disabled-btn[data-v-39a213d4]{cursor:not-allowed;border:1px solid #afafaf;border-radius:4px;font-size:12px;color:#fff;background-color:#a9a9a9;background-image:-webkit-linear-gradient(top,#b8b8b8,#a9a9a9);background-image:linear-gradient(180deg,#b8b8b8,#a9a9a9)}",""])},372:function(t,e,a){var s=a(371);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(340)("2817f91c",s,!0,{})},373:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{class:t.classStyle,attrs:{type:t.inputType,readonly:"",disabled:"disabled-btn"===t.classStyle},domProps:{value:t.text},on:{click:function(e){t.btnClick(e)}}})},staticRenderFns:[]}},374:function(t,e,a){"use strict";a.d(e,"r",function(){return r}),a.d(e,"f",function(){return d}),a.d(e,"h",function(){return i}),a.d(e,"q",function(){return n}),a.d(e,"g",function(){return o}),a.d(e,"k",function(){return l}),a.d(e,"j",function(){return c}),a.d(e,"i",function(){return u}),a.d(e,"b",function(){return p}),a.d(e,"c",function(){return f}),a.d(e,"d",function(){return g}),a.d(e,"e",function(){return m}),a.d(e,"o",function(){return b}),a.d(e,"m",function(){return v}),a.d(e,"l",function(){return h}),a.d(e,"n",function(){return x}),a.d(e,"a",function(){return y}),a.d(e,"p",function(){return _});var s=a(247),r=function(t){return s.a.fetchGet("/goods/allGoods",t)},d=function(t){return s.a.fetchPost("/cart/queryCartList",t)},i=function(t){return s.a.fetchPost("/cart/addCart",t)},n=function(t){return s.a.fetchPost("/cart/modifyCart",t)},o=function(t){return s.a.fetchPost("/cart/deleteCart",t)},l=function(t){return s.a.fetchPost("/terminalStatusMgr/addOrderAndOrderItem",t)},c=function(t){return s.a.fetchPost("/member/payOrder",t)},u=function(t){return s.a.fetchGet("/member/orderDetail",t)},p=function(t){return s.a.fetchPost("/goods/querySCGoodsInfo",t)},f=function(t){return s.a.fetchPost("/esservice/searchGoodsByKeyword",t)},g=function(t){return s.a.fetchPost("/dcData/getDcDataByDcName",t)},m=function(t){return s.a.fetchPost("/vender/queryVenderList",t)},b=function(t){return s.a.fetchPost("/address/queryAddressList",t)},v=function(t){return s.a.fetchPost("/address/addAddress",t)},h=function(t){return s.a.fetchPost("/address/modifyAddress",t)},x=function(t){return s.a.fetchPost("/address/deleteAddress",t)},y=function(t){return s.a.fetchPost("/terminalStatusMgr/queryOrderList",t)},_=function(t){return s.a.fetchPost("/terminalStatusMgr/orderCancel",t)}},375:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title"]}},376:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,".gray-box[data-v-379d4dd3]{position:relative;margin-bottom:30px;overflow:hidden;background:#fff;border-radius:8px;border:1px solid #dcdcdc;border-color:rgba(0,0,0,.14);box-shadow:0 3px 8px -6px rgba(0,0,0,.1)}.gray-box .title[data-v-379d4dd3]{padding-left:30px;position:relative;z-index:10;height:60px;padding:0 10px 0 24px;border-bottom:1px solid #d4d4d4;border-radius:8px 8px 0 0;box-shadow:0 1px 7px rgba(0,0,0,.06);background:#f3f3f3;background:-webkit-linear-gradient(#fbfbfb,#ececec);background:linear-gradient(#fbfbfb,#ececec);line-height:60px;font-size:18px;color:#333;display:flex;justify-content:space-between;align-items:center}.gray-box .title h2[data-v-379d4dd3]{font-size:18px;font-weight:400;color:#626262;display:inline-block}",""])},377:function(t,e,a){var s=a(376);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(340)("0d0b540d",s,!0,{})},378:function(t,e,a){function s(t){a(377)}var r=a(245)(a(375),a(379),s,"data-v-379d4dd3",null);t.exports=r.exports},379:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"gray-box"},[a("div",{staticClass:"title"},[a("h2",[t._v(t._s(t.title))]),t._v(" "),a("div",[t._t("right")],2)]),t._v(" "),a("div",[t._t("content")],2)])},staticRenderFns:[]}},423:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{open:{type:Boolean,default:!1},title:{type:String,default:"管理收货地址"}},methods:{close:function(){this.$emit("close")}}}},425:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,".popup[data-v-b0756156]{position:fixed;top:0;left:0;bottom:0;right:0;z-index:1000;text-align:center;transition:opacity .2s ease-in}.popup .mask[data-v-b0756156]{display:flex;justify-content:center;align-items:center;position:absolute;width:100%;height:100%;background:rgba(0,0,0,.5)}.popup .content[data-v-b0756156]{width:30%;background:#fff;border-radius:10px}.popup .topbar[data-v-b0756156]{position:relative;z-index:10;overflow:hidden;width:100%;height:60px;background:#f5f5f5;background:linear-gradient(#fff,#f5f5f5);border-bottom:1px solid #dcdcdc;border-radius:10px 10px 0 0;box-shadow:2px 0 5px rgba(0,0,0,.1)}.popup .dialog-tit[data-v-b0756156]{height:60px;padding:0 15px;line-height:60px}.popup .dialog-tit h4[data-v-b0756156]{text-align:center;font-size:18px;font-weight:400;color:#666}.popup .s-content[data-v-b0756156]{padding:30px 15px}.popup .close[data-v-b0756156]{position:absolute;right:10px;top:50%;transform:translateY(-50%);width:20px;height:20px}.popup .close:hover svg[data-v-b0756156]{transition:all 1s;transform:rotate(1turn);transform-origin:50% 50%}.popup .close:hover path[data-v-b0756156]{fill:#8a8a8a}",""])},427:function(t,e,a){var s=a(425);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(340)("24f84b9a",s,!0,{})},430:function(t,e,a){function s(t){a(427)}var r=a(245)(a(423),a(432),s,"data-v-b0756156",null);t.exports=r.exports},432:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.open?a("div",{staticClass:"popup"},[a("div",{staticClass:"mask"},[a("div",{staticClass:"content"},[a("div",{staticClass:"topbar"},[a("div",{staticClass:"dialog-tit"},[a("h4",[t._v(t._s(t.title))])]),t._v(" "),a("span",{staticClass:"close",on:{click:t.close}},[a("svg",{staticClass:"icon",attrs:{t:"1501234940517",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3014","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"20"}},[a("path",{attrs:{d:"M941.576 184.248l-101.824-101.824L512 410.176 184.248 82.424 82.424 184.248 410.168 512l-327.744 327.752 101.824 101.824L512 613.824l327.752 327.752 101.824-101.824L613.832 512z",fill:"#cdcdcd","p-id":"3015"}})])])]),t._v(" "),a("div",{staticClass:"s-content"},[t._t("content")],2)])])]):t._e()},staticRenderFns:[]}},456:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(374),r=a(369),d=a.n(r),i=a(430),n=a.n(i),o=a(378),l=a.n(o),c=a(64);e.default={data:function(){return{addList:[],popupOpen:!1,popupTitle:"管理收货地址",msg:{addressId:"",userName:"",tel:"",streetName:"",isDefault:!1},checked:!0,userId:"",getAddress:[],checkBlank:!1,checkPhone:!1}},computed:{btnHighlight:function(){var t=this.msg;return t.userName&&t.tel&&t.streetName}},methods:{messageSuccess:function(t){this.$message({message:t,type:"success"})},messageError:function(t){this.$message.error({message:t})},getAddressList:function(){var t=this,e={addressDto:{userId:this.userId}};a.i(s.o)(e).then(function(e){if(e){if("success"!==e.code)return;t.getAddress=e.addressDtoList}})},changeDef:function(t){return t.isDefault||(t.isDefault=!0,this.getAddressList()),!1},saveAddress:function(t){for(var e=this,r=this.msg.tel,d=/[`~!@#$%^&*()_+<>?:"{},.\/;'[\]]/im,i="and,delete,or,exec,insert,select,union,update,count,*,',join,>,<",n=i.split(","),o=!0,l=0;l<n.length;l++)if(-1!=this.msg.streetName.toLowerCase().indexOf(n[l])){o=!1;break}if(""==this.msg.streetName.replace(/(^\s*)|(\s*$)/g,"")||""==this.msg.userName.replace(/(^\s*)|(\s*$)/g,""))this.messageError("请填写完整 !");else if(/^1[34578]\d{9}$/.test(r))if(""===this.msg.streetName||null===this.msg.streetName)this.messageError("地址不能为空 !");else if(d.test(this.msg.streetName))this.messageError("地址不符合规则，请重新填写 !");else if(0==o)this.messageError("地址不符合规则，请重新填写 !");else if(this.popupOpen=!1,t.addressId){var c={addressDto:{isDefault:t.isDefault,addressDetail:t.streetName,addressPhone:t.tel,userId:t.userId,addressName:t.userName,addressId:t.addressId}};a.i(s.l)(c).then(function(t){t&&((t.code='"success"')?(e.messageSuccess("修改成功"),e.getAddressList()):e.messageError("修改失败"))})}else{var u={addressDto:{isDefault:t.isDefault,addressDetail:t.streetName,addressPhone:t.tel,userId:t.userId,addressName:t.userName}};a.i(s.m)(u).then(function(t){t&&((t.code='"success"')?(e.messageSuccess("添加成功"),e.getAddressList()):e.messageError("修改失败"))})}else this.messageError("手机号码有误，请重填")},del:function(t){var e=this,r={addressDto:{userId:t.userId,addressId:t.addressId}};a.i(s.n)(r).then(function(t){t&&(t.code='"success"')&&(e.messageSuccess("删除成功"),e.getAddressList())})},update:function(t){this.popupOpen=!0,t?(this.popupTitle="管理收货地址",this.msg.userName=t.addressName,this.msg.tel=t.addressPhone,this.msg.streetName=t.addressDetail,this.msg.isDefault="true"==t.isDefault,this.msg.addressId=t.addressId):(this.popupTitle="新增收货地址",this.msg.userName="",this.msg.tel="",this.msg.streetName="",this.msg.isDefault=!1,this.msg.addressId="")}},created:function(){this.userId=a.i(c.a)("userId"),this.getAddressList()},components:{YButton:d.a,YPopup:n.a,YShelf:l.a}}},488:function(t,e,a){e=t.exports=a(339)(!1),e.push([t.i,".table-title[data-v-47dab2a8]{position:relative;z-index:1;line-height:38px;height:38px;padding:0 0 0 38px;font-size:12px;background:#eee;border-bottom:1px solid #dbdbdb;border-bottom-color:rgba(0,0,0,.08)}.table-title .name[data-v-47dab2a8]{float:left;text-align:left}.table-title span[data-v-47dab2a8]{width:137px;float:left;text-align:center;color:#838383}.table-title .address[data-v-47dab2a8]{margin-left:115px}.table-title .tel[data-v-47dab2a8]{margin-left:195px}.address-item[data-v-47dab2a8]{display:flex;align-items:center;height:115px;text-align:center}.address-item .name[data-v-47dab2a8]{width:106px}.address-item .address-msg[data-v-47dab2a8]{flex:1}.address-item .telephone[data-v-47dab2a8]{width:160px}.address-item .defalut[data-v-47dab2a8]{width:80px}.address-item .defalut>a[data-v-47dab2a8]{text-align:center}.address-item .operation[data-v-47dab2a8]{width:135px}.address-item .operation a[data-v-47dab2a8]{padding:10px 5px}.address-item:hover .defalut>a[data-v-47dab2a8]{display:block}.address-item+.address-item[data-v-47dab2a8]{border-top:1px solid #cfcfcf}.defalut-address[data-v-47dab2a8]{color:#626262;display:block;pointer-events:none;cursor:default}.md>div[data-v-47dab2a8]{text-align:left;margin-bottom:15px}.md>div>input[data-v-47dab2a8]{width:100%;height:50px;font-size:18px;padding:10px 20px;border:1px solid #ccc;border-radius:6px;box-shadow:inset 0 3px 5px -4px rgba(0,0,0,.4),inset -1px 0 3px -2px rgba(0,0,0,.1);line-height:46px}.btn[data-v-47dab2a8]{margin:0;width:100%;height:50px;font-size:14px;line-height:48px}",""])},517:function(t,e,a){var s=a(488);"string"==typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);a(340)("42e3d67e",s,!0,{})},566:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("y-shelf",{attrs:{title:"收货地址"}},[a("span",{attrs:{slot:"right"},slot:"right"},[a("y-button",{staticStyle:{margin:"0"},attrs:{text:"添加收货地址"},on:{btnClick:function(e){t.update()}}})],1),t._v(" "),a("div",{attrs:{slot:"content"},slot:"content"},[a("div",{staticClass:"table-title"},[a("span",{staticClass:"name"},[t._v("姓名")]),t._v(" "),a("span",{staticClass:"address"},[t._v("详细地址")]),t._v(" "),a("span",{staticClass:"tel"},[t._v("电话")])]),t._v(" "),t.getAddress.length?a("div",t._l(t.getAddress,function(e,s){return a("div",{key:s,staticClass:"address-item"},[a("div",{staticClass:"name"},[t._v(t._s(e.addressName))]),t._v(" "),a("div",{staticClass:"address-msg"},[t._v(t._s(e.addressDetail))]),t._v(" "),a("div",{staticClass:"telephone"},[t._v(t._s(e.addressPhone))]),t._v(" "),a("div",{staticClass:"defalut"},["false"==e.isDefault?a("p",{staticClass:"defalut-address"}):t._e(),t._v(" "),"true"==e.isDefault?a("p",[t._v("( 默认地址 )")]):t._e()]),t._v(" "),a("div",{staticClass:"operation"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"small"},on:{click:function(a){t.update(e)}}}),t._v(" "),a("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small","data-id":e.addressId},on:{click:function(a){t.del(e)}}})],1)])})):a("div",[a("div",{staticStyle:{padding:"80px 0","text-align":"center"}},[a("div",{staticStyle:{"font-size":"20px"}},[t._v("你还未添加收货地址")]),t._v(" "),a("div",{staticStyle:{margin:"20px"}},[a("y-button",{attrs:{text:"添加地址"},on:{btnClick:function(e){t.update()}}})],1)])])])]),t._v(" "),a("y-popup",{attrs:{open:t.popupOpen,title:t.popupTitle},on:{close:function(e){t.popupOpen=!1}}},[a("div",{staticClass:"md",attrs:{slot:"content","data-id":t.msg.addressId},slot:"content"},[a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.userName,expression:"msg.userName"}],attrs:{type:"text",placeholder:"收货人姓名"},domProps:{value:t.msg.userName},on:{input:function(e){e.target.composing||t.$set(t.msg,"userName",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.tel,expression:"msg.tel"}],attrs:{type:"text",placeholder:"手机号码"},domProps:{value:t.msg.tel},on:{input:function(e){e.target.composing||t.$set(t.msg,"tel",e.target.value)}}})]),t._v(" "),a("div",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.msg.streetName,expression:"msg.streetName"}],attrs:{type:"text",placeholder:"收货地址"},domProps:{value:t.msg.streetName},on:{input:function(e){e.target.composing||t.$set(t.msg,"streetName",e.target.value)}}})]),t._v(" "),a("div",[a("el-checkbox",{model:{value:t.msg.isDefault,callback:function(e){t.$set(t.msg,"isDefault",e)},expression:"msg.isDefault"}},[t._v("设为默认")])],1),t._v(" "),a("y-button",{staticClass:"btn",attrs:{text:"保存",classStyle:t.btnHighlight?"main-btn":"disabled-btn"},on:{btnClick:function(e){t.saveAddress({userId:t.userId,addressId:t.msg.addressId,userName:t.msg.userName,tel:t.msg.tel,streetName:t.msg.streetName,isDefault:t.msg.isDefault})}}})],1)])],1)},staticRenderFns:[]}}});