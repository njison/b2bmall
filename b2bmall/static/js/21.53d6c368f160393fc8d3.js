webpackJsonp([21],{362:function(t,e,r){function a(t){r(513)}var i=r(245)(r(460),r(562),a,"data-v-373e83c4",null);t.exports=i.exports},374:function(t,e,r){"use strict";r.d(e,"r",function(){return i}),r.d(e,"f",function(){return s}),r.d(e,"h",function(){return n}),r.d(e,"q",function(){return o}),r.d(e,"g",function(){return d}),r.d(e,"k",function(){return c}),r.d(e,"j",function(){return l}),r.d(e,"i",function(){return u}),r.d(e,"b",function(){return f}),r.d(e,"c",function(){return p}),r.d(e,"d",function(){return v}),r.d(e,"e",function(){return g}),r.d(e,"o",function(){return h}),r.d(e,"m",function(){return x}),r.d(e,"l",function(){return b}),r.d(e,"n",function(){return _}),r.d(e,"a",function(){return m}),r.d(e,"p",function(){return y});var a=r(247),i=function(t){return a.a.fetchGet("/goods/allGoods",t)},s=function(t){return a.a.fetchPost("/cart/queryCartList",t)},n=function(t){return a.a.fetchPost("/cart/addCart",t)},o=function(t){return a.a.fetchPost("/cart/modifyCart",t)},d=function(t){return a.a.fetchPost("/cart/deleteCart",t)},c=function(t){return a.a.fetchPost("/terminalStatusMgr/addOrderAndOrderItem",t)},l=function(t){return a.a.fetchPost("/member/payOrder",t)},u=function(t){return a.a.fetchGet("/member/orderDetail",t)},f=function(t){return a.a.fetchPost("/goods/querySCGoodsInfo",t)},p=function(t){return a.a.fetchPost("/esservice/searchGoodsByKeyword",t)},v=function(t){return a.a.fetchPost("/dcData/getDcDataByDcName",t)},g=function(t){return a.a.fetchPost("/vender/queryVenderList",t)},h=function(t){return a.a.fetchPost("/address/queryAddressList",t)},x=function(t){return a.a.fetchPost("/address/addAddress",t)},b=function(t){return a.a.fetchPost("/address/modifyAddress",t)},_=function(t){return a.a.fetchPost("/address/deleteAddress",t)},m=function(t){return a.a.fetchPost("/terminalStatusMgr/queryOrderList",t)},y=function(t){return a.a.fetchPost("/terminalStatusMgr/orderCancel",t)}},375:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title"]}},376:function(t,e,r){e=t.exports=r(339)(!1),e.push([t.i,".gray-box[data-v-379d4dd3]{position:relative;margin-bottom:30px;overflow:hidden;background:#fff;border-radius:8px;border:1px solid #dcdcdc;border-color:rgba(0,0,0,.14);box-shadow:0 3px 8px -6px rgba(0,0,0,.1)}.gray-box .title[data-v-379d4dd3]{padding-left:30px;position:relative;z-index:10;height:60px;padding:0 10px 0 24px;border-bottom:1px solid #d4d4d4;border-radius:8px 8px 0 0;box-shadow:0 1px 7px rgba(0,0,0,.06);background:#f3f3f3;background:-webkit-linear-gradient(#fbfbfb,#ececec);background:linear-gradient(#fbfbfb,#ececec);line-height:60px;font-size:18px;color:#333;display:flex;justify-content:space-between;align-items:center}.gray-box .title h2[data-v-379d4dd3]{font-size:18px;font-weight:400;color:#626262;display:inline-block}",""])},377:function(t,e,r){var a=r(376);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r(340)("0d0b540d",a,!0,{})},378:function(t,e,r){function a(t){r(377)}var i=r(245)(r(375),r(379),a,"data-v-379d4dd3",null);t.exports=i.exports},379:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"gray-box"},[r("div",{staticClass:"title"},[r("h2",[t._v(t._s(t.title))]),t._v(" "),r("div",[t._t("right")],2)]),t._v(" "),r("div",[t._t("content")],2)])},staticRenderFns:[]}},460:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=r(374),i=r(378),s=r.n(i),n=r(64);e.default={data:function(){return{orderList:[0],userId:"",orderStatus:"",loading:!0,currentPage:1,pageSize:5,total:0,orderItemDtoList:"",dialogVisible:!1,orderId:""}},methods:{handleClose:function(t){this.$confirm("确认关闭？").then(function(e){t()}).catch(function(t){})},messageSuccess:function(t){this.$message({message:t,type:"success"})},messageError:function(t){this.$message.error({message:t})},handleSizeChange:function(t){this.pageSize=t,this._orderList()},handleCurrentChange:function(t){this.currentPage=t,this._orderList()},orderPayment:function(t){window.open(window.location.origin+"/order/payment?orderId="+t)},goodsDetails:function(t){this.$router.push({path:"/goodsDetails",query:{goodsId:t}})},orderDetail:function(t){r.i(n.b)("orderId",t),this.$router.push({name:"orderDetail",params:{orderId:t}})},_orderList:function(){var t=this,e={orderDto:{userId:this.userId},pageNum:1,pageSize:9999999};r.i(a.a)(e).then(function(e){e&&"success"==e.code&&(t.loading=!1,t.orderList=e.orderDtoList,t.total=e.orderDtoList.length)})},_delOrder:function(t,e){var r=this,a={params:{orderId:t}};delOrder(a).then(function(t){t&&(!0===t.success?r.orderList.splice(e,1):r.messageError("删除失败"))})},isCancelOrder:function(t){this.orderId=t,this.dialogVisible=!0},cancelOrder:function(){var t=this,e={orderDto:{orderId:this.orderId,userId:this.userId}};r.i(a.p)(e).then(function(e){e&&("success"==e.code?(t.messageSuccess("取消成功"),t.dialogVisible=!1,t._orderList()):t.messageError("取消失败"))})}},created:function(){this.userId=r.i(n.a)("userId"),this._orderList()},components:{YShelf:s.a}}},484:function(t,e,r){e=t.exports=r(339)(!1),e.push([t.i,'.gray-sub-title[data-v-373e83c4]{height:38px;padding:0 24px;background:#eee;border-top:1px solid #dbdbdb;border-bottom:1px solid #dbdbdb;line-height:38px;font-size:12px;color:#666;display:flex}.gray-sub-title span[data-v-373e83c4]{display:inline-block;height:100%}.gray-sub-title .first[data-v-373e83c4]{display:flex;justify-content:space-between;flex:1}.gray-sub-title .first .f-bc>span[data-v-373e83c4]{width:112px;text-align:center}.gray-sub-title .last[data-v-373e83c4]{width:230px;text-align:center;display:flex;border-left:1px solid #ccc}.gray-sub-title .last span[data-v-373e83c4]{flex:1}.bt[data-v-373e83c4]{border-top:1px solid #efefef}.date[data-v-373e83c4]{padding-left:0}.order-id[data-v-373e83c4]{margin-left:25px}.cart[data-v-373e83c4]{display:flex;justify-content:space-between;align-items:center;padding:0 24px}.cart:hover .del-order[data-v-373e83c4]{display:block}.cart .del-order[data-v-373e83c4]{display:none}.cart .cart-l[data-v-373e83c4]{display:flex;align-items:center;flex:1;padding:15px 0;justify-content:space-between;position:relative}.cart .cart-l[data-v-373e83c4]:before{position:absolute;content:" ";right:-1px;top:0;width:1px;background-color:#efefef;height:100%}.cart .cart-l .ellipsis[data-v-373e83c4]{margin-left:20px;width:220px}.cart .cart-l .img-box[data-v-373e83c4]{border:1px solid #ebebeb}.cart .cart-l img[data-v-373e83c4]{display:block;width:80px;height:80px}.cart .cart-l .cart-l-r[data-v-373e83c4]{display:flex}.cart .cart-l .cart-l-r>div[data-v-373e83c4]{text-align:center;width:112px}.cart .cart-l .car-l-l[data-v-373e83c4]{display:flex;align-items:center}.cart .cart-r[data-v-373e83c4]{width:230px;display:flex}.cart .cart-r span[data-v-373e83c4]{text-align:center;flex:1}.prod-operation[data-v-373e83c4]{height:110px;display:flex;align-items:center;justify-content:center;width:254px}.prod-operation div[data-v-373e83c4]{width:100%;text-align:center}.prod-operation div[data-v-373e83c4]:last-child{padding-right:24px}.attribute[data-v-373e83c4],.name p[data-v-373e83c4]{color:#999;font-size:12px;padding-top:4px;line-height:17px}',""])},513:function(t,e,r){var a=r(484);"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);r(340)("de262e74",a,!0,{})},562:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("y-shelf",{attrs:{title:"我的订单"}},[r("div",{attrs:{slot:"content"},slot:"content"},[t.orderList.length?r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{"min-height":"10vw"},attrs:{"element-loading-text":"加载中..."}},t._l(t.orderList,function(e,a){return r("div",{key:a},[r("div",{staticClass:"gray-sub-title cart-title"},[r("div",{staticClass:"first"},[r("div",[r("span",{staticClass:"date",domProps:{textContent:t._s(e.createDate)}}),t._v(" "),r("span",{staticClass:"order-id"},[t._v(" 订单号： "),r("a",{on:{click:function(r){t.orderDetail(e.orderId)}}},[t._v(t._s(e.orderId))])])]),t._v(" "),r("div",{staticClass:"f-bc"},[r("span",{staticClass:"price"},[t._v("单价")]),t._v(" "),r("span",{staticClass:"num"},[t._v("数量")])])]),t._v(" "),r("div",{staticClass:"last"},[r("span",{staticClass:"sub-total"},[t._v("实付金额")]),t._v(" "),r("span",{staticClass:"operation"},[t._v("订单操作")]),t._v(" "),r("span",{staticClass:"order-detail"},[r("a",{on:{click:function(r){t.orderDetail(e.orderId)}}},[t._v("查看详情 >"),r("em",{staticClass:"icon-font"})])])])]),t._v(" "),r("div",{staticClass:"pr"},[t._l(e.orderItemDtoList,function(e,a){return r("div",{key:a,staticClass:"cart"},[r("div",{staticClass:"cart-l",class:{bt:a>0}},[r("div",{staticClass:"car-l-l"},[r("div",{staticClass:"img-box"},[r("a",{on:{click:function(r){t.goodsDetails(e.goodsId)}}},[r("img",{attrs:{src:e.url,alt:""}})])]),t._v(" "),r("div",{staticClass:"ellipsis"},[r("a",{staticStyle:{color:"#626262"},on:{click:function(r){t.goodsDetails(e.goodsId)}}},[t._v(t._s(e.goodsName))]),t._v(" "),r("ul",{staticClass:"attribute"},[r("li",[t._v(t._s(e.colorName))])])])]),t._v(" "),r("div",{staticClass:"cart-l-r"},[r("div",[t._v("¥ "+t._s(e.goodsPrice))]),t._v(" "),r("div",{staticClass:"num"},[t._v(t._s(e.goodsNum))])])]),t._v(" "),r("div",{staticClass:"cart-r"},[r("span"),t._v(" "),r("span")])])}),t._v(" "),r("div",{staticClass:"prod-operation pa",staticStyle:{right:"0",top:"0"}},[r("div",{staticClass:"total"},[t._v("¥ "+t._s(e.orderPrice))]),t._v(" "),"1"==e.state?r("div",{staticClass:"type"},[r("el-button",{staticClass:"del-order",attrs:{type:"primary",size:"small"},on:{click:function(r){t.isCancelOrder(e.orderId)}}},[t._v("取消订单")])],1):t._e(),t._v(" "),r("div",{staticClass:"status"},["0"==e.state?r("p",[t._v("供货商审批不通过")]):t._e(),t._v(" "),"1"==e.state?r("p",[t._v("待确认")]):t._e(),t._v(" "),"2"==e.state?r("p",[t._v("待发货")]):t._e(),t._v(" "),"3"==e.state?r("p",[t._v("待收货")]):t._e(),t._v(" "),"4"==e.state?r("p",[t._v("交易完成")]):t._e(),t._v(" "),"5"==e.state?r("p",[t._v("已取消")]):t._e()])])],2)])})):r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"no-info",attrs:{"element-loading-text":"加载中..."}},[r("div",{staticStyle:{padding:"100px 0","text-align":"center"}},[t._v("\n          你还未创建过订单\n        ")])])])]),t._v(" "),r("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("span",[t._v("是否取消此订单 ?")]),t._v(" "),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),t._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:t.cancelOrder}},[t._v("确 定")])],1)])],1)},staticRenderFns:[]}}});