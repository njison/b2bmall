webpackJsonp([14],{361:function(t,e,o){function r(t){o(519)}var i=o(245)(o(459),o(568),r,"data-v-4c6cb422",null);t.exports=i.exports},369:function(t,e,o){function r(t){o(372)}var i=o(245)(o(370),o(373),r,"data-v-39a213d4",null);t.exports=i.exports},370:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:{text:{type:[String,Number],default:"一颗小按钮"},inputType:{type:[String],default:"button"},classStyle:{type:String,default:"default-btn"}},methods:{btnClick:function(t){this.$emit("btnClick",t)}}}},371:function(t,e,o){e=t.exports=o(339)(!1),e.push([t.i,".default-btn[data-v-39a213d4],.disabled-btn[data-v-39a213d4],.main-btn[data-v-39a213d4]{width:100px;height:30px;line-height:28px;vertical-align:middle}input[data-v-39a213d4]{display:inline-block;cursor:pointer;text-align:center}.gray-btn[data-v-39a213d4]{border:1px solid #d5d5d5;color:#646464}.default-btn[data-v-39a213d4]{border:1px solid #e1e1e1;border-radius:4px;font-size:12px;color:#646464;background-color:#f9f9f9;background-image:-webkit-linear-gradient(top,#fff,#f9f9f9);background-image:linear-gradient(180deg,#fff,#f9f9f9)}.default-btn[data-v-39a213d4]:hover{background-color:#eee;background-image:-webkit-linear-gradient(top,#f5f5f5,#eee);background-image:linear-gradient(180deg,#f5f5f5,#eee)}.main-btn[data-v-39a213d4]{border:1px solid #5c81e3;border-radius:4px;font-size:12px;color:#fff;background-color:#678ee7;background-image:-webkit-linear-gradient(top,#678ee7,#5078df);background-image:linear-gradient(180deg,#678ee7,#5078df)}.main-btn[data-v-39a213d4]:hover{background-color:#6c8cd4;background-image:-webkit-linear-gradient(top,#6c8cd4,#4769c2);background-image:linear-gradient(180deg,#6c8cd4,#4769c2)}.disabled-btn[data-v-39a213d4]{cursor:not-allowed;border:1px solid #afafaf;border-radius:4px;font-size:12px;color:#fff;background-color:#a9a9a9;background-image:-webkit-linear-gradient(top,#b8b8b8,#a9a9a9);background-image:linear-gradient(180deg,#b8b8b8,#a9a9a9)}",""])},372:function(t,e,o){var r=o(371);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);o(340)("2817f91c",r,!0,{})},373:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("input",{class:t.classStyle,attrs:{type:t.inputType,readonly:"",disabled:"disabled-btn"===t.classStyle},domProps:{value:t.text},on:{click:function(e){t.btnClick(e)}}})},staticRenderFns:[]}},375:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={props:["title"]}},376:function(t,e,o){e=t.exports=o(339)(!1),e.push([t.i,".gray-box[data-v-379d4dd3]{position:relative;margin-bottom:30px;overflow:hidden;background:#fff;border-radius:8px;border:1px solid #dcdcdc;border-color:rgba(0,0,0,.14);box-shadow:0 3px 8px -6px rgba(0,0,0,.1)}.gray-box .title[data-v-379d4dd3]{padding-left:30px;position:relative;z-index:10;height:60px;padding:0 10px 0 24px;border-bottom:1px solid #d4d4d4;border-radius:8px 8px 0 0;box-shadow:0 1px 7px rgba(0,0,0,.06);background:#f3f3f3;background:-webkit-linear-gradient(#fbfbfb,#ececec);background:linear-gradient(#fbfbfb,#ececec);line-height:60px;font-size:18px;color:#333;display:flex;justify-content:space-between;align-items:center}.gray-box .title h2[data-v-379d4dd3]{font-size:18px;font-weight:400;color:#626262;display:inline-block}",""])},377:function(t,e,o){var r=o(376);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);o(340)("0d0b540d",r,!0,{})},378:function(t,e,o){function r(t){o(377)}var i=o(245)(o(375),o(379),r,"data-v-379d4dd3",null);t.exports=i.exports},379:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"gray-box"},[o("div",{staticClass:"title"},[o("h2",[t._v(t._s(t.title))]),t._v(" "),o("div",[t._t("right")],2)]),t._v(" "),o("div",[t._t("content")],2)])},staticRenderFns:[]}},459:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=o(248),i=o.n(r),a=o(369),n=o.n(a),c=o(95),s=o(378),p=o.n(s),h=o(551),d=o.n(h),l=o(249),u=o(64);e.default={data:function(){return{imgSrc:"",editAvatarShow:!1,cropContext:"",cropperImg:"",previews:{},option:{img:"",zoom:0},fixedNumber:[1,1],example2:{info:!0,size:1,canScale:!1,autoCrop:!0,autoCropWidth:300,autoCropHeight:250,fixed:!0},userId:"",token:""}},computed:i()({},o.i(l.b)(["userInfo"])),methods:i()({},o.i(l.c)(["RECORD_USERINFO"]),{message:function(t){this.$message(t)},messageSuccess:function(t){this.$message({message:t,type:"success"})},messageFail:function(t){this.$message.error({message:t})},upimg:function(t){var e=this,o=t.target.files[0];if(o.size>1048576)return this.messageFail("图片大小不得超过1Mb"),!1;if(!/\.(gif|jpg|jpeg|png|bmp|GIF|JPG|PNG)$/.test(t.target.value))return this.messageFail("图片类型仅支持.gif,jpeg,jpg,png,bmp"),!1;var r=new FileReader;r.readAsDataURL(o),r.onload=function(t){e.option.img=t.target.result}},cropper:function(){var t=this;this.message("上传中..."),this.option.img?this.$refs.cropper.getCropData(function(e){t.imgSrc=e,o.i(c.f)({userId:t.userId,token:t.token,imgData:e}).then(function(e){if(!0===e.success){var o=e.result,r=t.userInfo;r.file=o,t.RECORD_USERINFO({info:r}),t.editAvatarShow=!1,t.messageSuccess("上传成功")}})}):this.messageFail("别玩我啊 先选照骗")},editAvatar:function(){this.editAvatarShow=!0},realTime:function(t){this.previews=t;var e=100/t.w;this.option.zoom=e}}),created:function(){this.userId=o.i(u.a)("userId"),this.token=o.i(u.a)("token")},components:{YButton:n.a,YShelf:p.a,vueCropper:d.a}}},490:function(t,e,o){e=t.exports=o(339)(!1),e.push([t.i,".close[data-v-4c6cb422],.edit-avatar[data-v-4c6cb422]{display:flex;align-items:center;justify-content:center}.avatar-box[data-v-4c6cb422]{height:124px;margin:0 30px 30px;border-bottom:1px solid #dadada;line-height:30px;display:flex;align-items:center}.avatar-box .img-box[data-v-4c6cb422]{width:80px;height:80px;border-radius:5px;overflow:hidden}.avatar-box img[data-v-4c6cb422]{display:block;width:100%;height:100%}.avatar-box .r-box[data-v-4c6cb422]{margin-left:20px}.avatar-box .r-box h3[data-v-4c6cb422]{font-size:18px;font-weight:400;color:#333}.edit-avatar[data-v-4c6cb422]{z-index:9999;position:fixed;left:0;right:0;top:0;bottom:0;width:100%;height:100%;background-color:rgba(0,0,0,.5)}.edit-avatar .content[data-v-4c6cb422]{display:flex;padding:45px 100px 0}.edit-avatar>div[data-v-4c6cb422]{box-sizing:content-box;width:700px;height:500px;margin:0}.edit-avatar .btn[data-v-4c6cb422]{width:80px;height:30px;margin-left:10px;position:relative;text-align:center;line-height:30px;text-shadow:hsla(0,0%,100%,.496094) 0 1px 0;border:1px solid #e6e6e6;border-radius:10px}.edit-avatar .btn a[data-v-4c6cb422]{color:#666;display:block;width:100%;height:100%}.edit-avatar input[type=file][data-v-4c6cb422]{position:absolute;right:0;left:0;top:0;opacity:0;width:80px;height:30px;cursor:pointer;box-sizing:border-box;border:15px solid #000;overflow:hidden}.edit-avatar .edit-l[data-v-4c6cb422]{width:100px;text-align:center}.edit-avatar .edit-r[data-v-4c6cb422]{margin-left:20px;flex:1}.edit-avatar .edit-r>div[data-v-4c6cb422]{border:1px solid #ccc;width:320px;height:320px}.image-container[data-v-4c6cb422]{width:100px;height:100px;border:1px solid #ccc}.close[data-v-4c6cb422]{position:absolute;right:10px;top:0;bottom:0;padding:0 10px}.close:hover svg[data-v-4c6cb422]{transition:all 1s;transform:rotate(1turn);transform-origin:50% 50%}.close:hover path[data-v-4c6cb422]{fill:#8a8a8a}.big[data-v-4c6cb422]{display:block;width:320px;height:320px}.bootom-btn[data-v-4c6cb422]{padding:0 15px;border-top:1px solid #e6e6e6;bottom:0;height:60px;right:0;left:0;display:flex;align-items:center;justify-content:space-between}",""])},519:function(t,e,o){var r=o(490);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);o(340)("4dc4b0fa",r,!0,{})},551:function(t,e,o){!function(e,o){t.exports=o()}(0,function(){return function(t){function e(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var o={};return e.m=t,e.c=o,e.i=function(t){return t},e.d=function(t,o,r){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=2)}([function(t,e,o){o(7);var r=o(5)(o(1),o(6),"data-v-7f57ac98",null);t.exports=r.exports},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={data:function(){return{w:0,h:0,scale:1,x:0,y:0,loading:!0,trueWidth:0,trueHeight:0,move:!0,moveX:0,moveY:0,crop:!1,cropping:!1,cropW:0,cropH:0,cropOldW:0,cropOldH:0,canChangeX:!1,canChangeY:!1,changeCropTypeX:1,changeCropTypeY:1,cropX:0,cropY:0,cropChangeX:0,cropChangeY:0,cropOffsertX:0,cropOffsertY:0,support:"",touches:[],touchNow:!1,rotate:0}},props:{img:{type:String,default:""},outputSize:{type:Number,default:1},outputType:{type:String,default:"jpeg"},info:{type:Boolean,default:!0},canScale:{type:Boolean,default:!0},autoCrop:{type:Boolean,default:!1},autoCropWidth:{type:Number,default:0},autoCropHeight:{type:Number,default:0},fixed:{type:Boolean,default:!1},fixedNumber:{type:Array,default:function(){return[1,1]}}},computed:{cropInfo:function(){return this.cropOffsertY>20?"-20px":"0px"}},watch:{img:function(){var t=this;this.loading=!0,this.scale=1,this.clearCrop();var e=new Image;e.onload=function(){t.reload()},e.src=this.img},cropW:function(){this.cropW=~~this.cropW,this.showPreview()},cropH:function(){this.cropH=~~this.cropH,this.showPreview()},cropOffsertX:function(){this.showPreview()},cropOffsertY:function(){this.showPreview()},scale:function(){this.showPreview()},x:function(){this.showPreview()},y:function(){this.showPreview()},rotate:function(){this.showPreview()}},methods:{startMove:function(t){t.preventDefault(),this.move&&!this.crop?(this.moveX=(t.clientX?t.clientX:t.touches[0].clientX)-this.x,this.moveY=(t.clientY?t.clientY:t.touches[0].clientY)-this.y,t.touches?(window.addEventListener("touchmove",this.moveImg),window.addEventListener("touchend",this.leaveImg),2==t.touches.length&&(this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale))):(window.addEventListener("mousemove",this.moveImg),window.addEventListener("mouseup",this.leaveImg))):(this.cropping=!0,window.addEventListener("mousemove",this.createCrop),window.addEventListener("mouseup",this.endCrop),window.addEventListener("touchmove",this.createCrop),window.addEventListener("touchend",this.endCrop),this.cropOffsertX=t.offsetX?t.offsetX:t.touches[0].pageX-this.$refs.cropper.offsetLeft,this.cropOffsertY=t.offsetY?t.offsetY:t.touches[0].pageY-this.$refs.cropper.offsetTop,this.cropX=t.clientX?t.clientX:t.touches[0].clientX,this.cropY=t.clientY?t.clientY:t.touches[0].clientY,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.cropW=0,this.cropH=0)},touchScale:function(t){var e=this;t.preventDefault();var o={x:this.touches[0].clientX,y:this.touches[0].clientY},r={x:t.touches[0].clientX,y:t.touches[0].clientY},i={x:this.touches[1].clientX,y:this.touches[1].clientY},a={x:t.touches[1].clientX,y:t.touches[1].clientY},n=Math.sqrt(Math.pow(o.x-i.x,2)+Math.pow(o.y-i.y,2)),c=Math.sqrt(Math.pow(r.x-a.x,2)+Math.pow(r.y-a.y,2)),s=~~(c-n);this.touchNow||(this.touchNow=!0,s>0?this.scale+=.003*s:s<0&&(this.scale=this.scale-.003*-s>0?this.scale-=.003*-s:.05),this.touches=t.touches,setTimeout(function(){e.touchNow=!1},50))},cancleTouchScale:function(t){window.removeEventListener("touchmove",this.touchScale)},moveImg:function(t){var e=this;if(t.preventDefault(),t.touches&&2===t.touches.length)return this.touches=t.touches,window.addEventListener("touchmove",this.touchScale),window.addEventListener("touchend",this.cancleTouchScale),window.removeEventListener("touchmove",this.moveImg),!1;var o=t.clientX?t.clientX:t.touches[0].clientX,r=t.clientY?t.clientY:t.touches[0].clientY;this.$nextTick(function(){e.x=~~(o-e.moveX),e.y=~~(r-e.moveY)})},leaveImg:function(t){window.removeEventListener("mousemove",this.moveImg),window.removeEventListener("touchmove",this.moveImg),window.removeEventListener("mouseup",this.leaveImg),window.removeEventListener("touchend",this.leaveImg)},scaleImg:function(){this.support="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",this.canScale&&window.addEventListener(this.support,this.changeSize)},cancleScale:function(){this.canScale&&window.removeEventListener(this.support,this.changeSize)},changeSize:function(t){var e=t.deltaY||t.wheelDelta,o=3e-4*e;o<0?this.scale+=Math.abs(o):this.scale>Math.abs(o)?this.scale-=Math.abs(o):this.scale,t.preventDefault()},createCrop:function(t){var e=this;t.preventDefault();var o=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,r=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick(function(){var t=~~(o-e.cropX),i=~~(r-e.cropY);if(t>0?(e.cropW=t+e.cropChangeX>e.w?e.w-e.cropChangeX:t,e.cropOffsertX=e.cropChangeX):(e.cropW=e.w-e.cropChangeX+Math.abs(t)>e.w?e.cropChangeX:Math.abs(t),e.cropOffsertX=e.cropChangeX+t>0?e.cropChangeX+t:0),e.fixed){var a=~~(e.cropW/e.fixedNumber[0]*e.fixedNumber[1]);a+e.cropOffsertY>e.h?(e.cropH=e.h-e.cropOffsertY,e.cropW=~~(e.cropH/e.fixedNumber[1]*e.fixedNumber[0]),e.cropOffsertX=t>0?e.cropChangeX:e.cropChangeX-e.cropW):e.cropH=a,e.cropOffsertY=e.cropOffsertY}else i>0?(e.cropH=i+e.cropChangeY>e.h?e.h-e.cropChangeY:i,e.cropOffsertY=e.cropChangeY):(e.cropH=e.h-e.cropChangeY+Math.abs(i)>e.h?e.cropChangeY:Math.abs(i),e.cropOffsertY=e.cropChangeY+i>0?e.cropChangeY+i:0)})},changeCropSize:function(t,e,o,r,i){t.preventDefault(),window.addEventListener("mousemove",this.changeCropNow),window.addEventListener("mouseup",this.changeCropEnd),window.addEventListener("touchmove",this.changeCropNow),window.addEventListener("touchend",this.changeCropEnd),this.canChangeX=e,this.canChangeY=o,this.changeCropTypeX=r,this.changeCropTypeY=i,this.cropX=t.clientX?t.clientX:t.touches[0].clientX,this.cropY=t.clientY?t.clientY:t.touches[0].clientY,this.cropOldW=this.cropW,this.cropOldH=this.cropH,this.cropChangeX=this.cropOffsertX,this.cropChangeY=this.cropOffsertY,this.fixed&&this.canChangeX&&this.canChangeY&&(this.canChangeY=0)},changeCropNow:function(t){var e=this;t.preventDefault();var o=t.clientX?t.clientX:t.touches?t.touches[0].clientX:0,r=t.clientY?t.clientY:t.touches?t.touches[0].clientY:0;this.$nextTick(function(){var t=~~(o-e.cropX),i=~~(r-e.cropY);if(e.canChangeX&&(1===e.changeCropTypeX?e.cropOldW-t>0?(e.cropW=e.w-e.cropChangeX-t<=e.w?e.cropOldW-t:e.cropOldW+e.cropChangeX,e.cropOffsertX=e.w-e.cropChangeX-t<=e.w?e.cropChangeX+t:0):(e.cropW=Math.abs(t)+e.cropChangeX<=e.w?Math.abs(t)-e.cropOldW:e.w-e.cropOldW-e.cropChangeX,e.cropOffsertX=e.cropChangeX+e.cropOldW):2===e.changeCropTypeX&&(e.cropOldW+t>0?(e.cropW=e.cropOldW+t+e.cropOffsertX<=e.w?e.cropOldW+t:e.w-e.cropOffsertX,e.cropOffsertX=e.cropChangeX):(e.cropW=e.w-e.cropChangeX+Math.abs(t+e.cropOldW)<=e.w?Math.abs(t+e.cropOldW):e.cropChangeX,e.cropOffsertX=e.w-e.cropChangeX+Math.abs(t+e.cropOldW)<=e.w?e.cropChangeX-Math.abs(t+e.cropOldW):0))),e.canChangeY&&(1===e.changeCropTypeY?e.cropOldH-i>0?(e.cropH=e.h-e.cropChangeY-i<=e.h?e.cropOldH-i:e.cropOldH+e.cropChangeY,e.cropOffsertY=e.h-e.cropChangeY-i<=e.h?e.cropChangeY+i:0):(e.cropH=Math.abs(i)+e.cropChangeY<=e.h?Math.abs(i)-e.cropOldH:e.h-e.cropOldH-e.cropChangeY,e.cropOffsertY=e.cropChangeY+e.cropOldH):2===e.changeCropTypeY&&(e.cropOldH+i>0?(e.cropH=e.cropOldH+i+e.cropOffsertY<=e.h?e.cropOldH+i:e.h-e.cropOffsertY,e.cropOffsertY=e.cropChangeY):(e.cropH=e.h-e.cropChangeY+Math.abs(i+e.cropOldH)<=e.h?Math.abs(i+e.cropOldH):e.cropChangeY,e.cropOffsertY=e.h-e.cropChangeY+Math.abs(i+e.cropOldH)<=e.h?e.cropChangeY-Math.abs(i+e.cropOldH):0))),e.canChangeX&&e.fixed){var a=~~(e.cropW/e.fixedNumber[0]*e.fixedNumber[1]);a+e.cropOffsertY>e.h?(e.cropH=e.h-e.cropOffsertY,e.cropW=~~(e.cropH/e.fixedNumber[1]*e.fixedNumber[0])):e.cropH=a}if(e.canChangeY&&e.fixed){var n=~~(e.cropH/e.fixedNumber[1]*e.fixedNumber[0]);n+e.cropOffsertX>e.w?(e.cropW=e.w-e.cropOffsertX,e.cropH=~~(e.cropW/e.fixedNumber[0]*e.fixedNumber[1])):e.cropW=n}})},changeCropEnd:function(t){window.removeEventListener("mousemove",this.changeCropNow),window.removeEventListener("mouseup",this.changeCropEnd),window.removeEventListener("touchmove",this.changeCropNow),window.removeEventListener("touchend",this.changeCropEnd)},endCrop:function(){0===this.cropW&&0===this.cropH&&(this.cropping=!1),window.removeEventListener("mousemove",this.createCrop),window.removeEventListener("mouseup",this.endCrop),window.removeEventListener("touchmove",this.createCrop),window.removeEventListener("touchend",this.endCrop)},startCrop:function(){this.crop=!0},stopCrop:function(){this.crop=!1},clearCrop:function(){this.cropping=!1,this.cropW=0,this.cropH=0},cropMove:function(t){t.preventDefault(),window.addEventListener("mousemove",this.moveCrop),window.addEventListener("mouseup",this.leaveCrop),window.addEventListener("touchmove",this.moveCrop),window.addEventListener("touchend",this.leaveCrop),this.cropX=(t.clientX?t.clientX:t.touches[0].clientX)-this.cropOffsertX,this.cropY=(t.clientY?t.clientY:t.touches[0].clientY)-this.cropOffsertY},moveCrop:function(t){var e=this;t.preventDefault();var o=t.clientX?t.clientX:t.touches[0].clientX,r=t.clientY?t.clientY:t.touches[0].clientY;this.$nextTick(function(){var t=~~(o-e.cropX),i=~~(r-e.cropY);t<=1?e.cropOffsertX=1:~~(t+e.cropW)>e.w?e.cropOffsertX=e.w-e.cropW-1:e.cropOffsertX=t,i<=1?e.cropOffsertY=1:~~(i+e.cropH)>e.h?e.cropOffsertY=e.h-e.cropH-1:e.cropOffsertY=i})},leaveCrop:function(t){window.removeEventListener("mousemove",this.moveCrop),window.removeEventListener("mouseup",this.leaveCrop),window.removeEventListener("touchmove",this.moveCrop),window.removeEventListener("touchend",this.leaveCrop)},getCropData:function(t){var e=this,o=document.createElement("canvas"),r=new Image;r.onload=function(){if(0!=~~e.cropW){var i=o.getContext("2d"),a=e.cropW,n=e.cropH,c=e.trueWidth*e.scale,s=e.trueHeight*e.scale,p=e.x-e.cropOffsertX+e.trueWidth*(1-e.scale)/2,h=e.y-e.cropOffsertY+e.trueHeight*(1-e.scale)/2;switch(o.width=a,o.height=n,i.save(),e.rotate){case 0:i.drawImage(r,p,h,c,s);break;case 1:case-3:p+=(c-s)/2,h+=(s-c)/2,i.rotate(90*e.rotate*Math.PI/180),i.drawImage(r,h,-p-s,c,s);break;case 2:case-2:i.rotate(90*e.rotate*Math.PI/180),i.drawImage(r,-p-c,-h-s,c,s);break;case 3:case-1:p+=(c-s)/2,h+=(s-c)/2,i.rotate(90*e.rotate*Math.PI/180),i.drawImage(r,-h-c,p,c,s);break;default:i.drawImage(r,p,h,c,s)}i.restore()}else{var d=e.trueWidth*e.scale,l=e.trueHeight*e.scale,u=o.getContext("2d");switch(u.save(),e.rotate){case 0:o.width=d,o.height=l,u.drawImage(r,0,0,d,l);break;case 1:case-3:o.width=l,o.height=d,u.rotate(90*e.rotate*Math.PI/180),u.drawImage(r,0,-l,d,l);break;case 2:case-2:o.width=d,o.height=l,u.rotate(90*e.rotate*Math.PI/180),u.drawImage(r,-d,-l,d,l);break;case 3:case-1:o.width=l,o.height=d,u.rotate(90*e.rotate*Math.PI/180),u.drawImage(r,-d,0,d,l);break;default:o.width=d,o.height=l,u.drawImage(r,0,0,d,l)}u.restore()}var f=o.toDataURL("image/"+e.outputType,e.outputSize);t(f)},"data"!==this.img.substr(0,4)&&(r.crossOrigin="anonymous"),r.src=this.img},getCropBlob:function(t){this.getCropData(function(e){for(var o=e.split(","),r=o[0].match(/:(.*?);/)[1],i=atob(o[1]),a=i.length,n=new Uint8Array(a);a--;)n[a]=i.charCodeAt(a);t(new Blob([n],{type:r}))})},showPreview:function(){var t={};t.div={width:this.cropW+"px",height:this.cropH+"px"},t.img={width:this.trueWidth+"px",height:this.trueHeight+"px",transform:"scale("+this.scale+","+this.scale+") translate3d("+(this.x-this.cropOffsertX)/this.scale+"px,"+(this.y-this.cropOffsertY)/this.scale+"px,0)rotateZ("+90*this.rotate+"deg)"},t.w=this.cropW,t.h=this.cropH,this.$emit("realTime",t)},reload:function(){var t=this;this.w=~~window.getComputedStyle(this.$refs.cropper).width.replace("px",""),this.h=~~window.getComputedStyle(this.$refs.cropper).height.replace("px",""),this.trueWidth=this.$refs.cropperImg.width,this.trueHeight=this.$refs.cropperImg.height,this.rotate=0,this.trueWidth>this.w&&(this.scale=this.w/this.trueWidth),this.trueHeight*this.scale>this.h&&(this.scale=this.h/this.trueHeight),this.$nextTick(function(){t.x=-(t.trueWidth-t.trueWidth*t.scale)/2+(t.w-t.trueWidth*t.scale)/2,t.y=-(t.trueHeight-t.trueHeight*t.scale)/2+(t.h-t.trueHeight*t.scale)/2,t.loading=!1,t.autoCrop&&t.goAutoCrop()})},goAutoCrop:function(){this.cropping=!0;var t=this.autoCropWidth,e=this.autoCropHeight;0!==t&&0!==e||(t=.8*this.w,e=.8*this.h),t=t>this.w?this.w:t,e=e>this.h?this.h:e,this.fixed&&(e=t/this.fixedNumber[0]*this.fixedNumber[1]),e>this.h&&(e=this.h,t=e/this.fixedNumber[1]*this.fixedNumber[0]),this.changeCrop(t,e)},changeCrop:function(t,e){this.cropW=t,this.cropH=e,this.cropOffsertX=(this.w-t)/2,this.cropOffsertY=(this.h-e)/2},refresh:function(){},rotateLeft:function(){this.rotate=this.rotate<=-3?0:this.rotate-1},rotateRight:function(){this.rotate=this.rotate>=3?0:this.rotate+1},rotateClear:function(){this.rotate=0}},mounted:function(){var t=this;this.showPreview(),this.$refs.cropperImg.onload=function(){t.reload()}}}},function(t,e,o){"use strict";var r=o(0);t.exports=r},function(t,e,o){e=t.exports=o(4)(),e.push([t.i,'.vue-cropper[data-v-7f57ac98]{position:relative;width:100%;height:100%;box-sizing:border-box;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;direction:ltr;touch-action:none;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQAQMAAAAlPW0iAAAAA3NCSVQICAjb4U/gAAAABlBMVEXMzMz////TjRV2AAAACXBIWXMAAArrAAAK6wGCiw1aAAAAHHRFWHRTb2Z0d2FyZQBBZG9iZSBGaXJld29ya3MgQ1M26LyyjAAAABFJREFUCJlj+M/AgBVhF/0PAH6/D/HkDxOGAAAAAElFTkSuQmCC")}.cropper-box-canvas[data-v-7f57ac98],.cropper-box[data-v-7f57ac98],.cropper-crop-box[data-v-7f57ac98],.cropper-drag-box[data-v-7f57ac98],.cropper-face[data-v-7f57ac98]{position:absolute;top:0;right:0;bottom:0;left:0;user-select:none}.cropper-box-canvas img[data-v-7f57ac98]{position:relative;user-select:none;transform:none}.cropper-box[data-v-7f57ac98]{overflow:hidden}.cropper-move[data-v-7f57ac98]{cursor:move}.cropper-crop[data-v-7f57ac98]{cursor:crosshair}.cropper-modal[data-v-7f57ac98]{background:rgba(0,0,0,.5)}.cropper-view-box[data-v-7f57ac98]{display:block;overflow:hidden;width:100%;height:100%;outline:1px solid #39f;outline-color:rgba(51,153,255,.75);user-select:none}.cropper-view-box img[data-v-7f57ac98]{user-select:none}.cropper-face[data-v-7f57ac98]{top:0;left:0;background-color:#fff;opacity:.1}.crop-info[data-v-7f57ac98]{position:absolute;left:0;min-width:65px;text-align:center;color:#fff;line-height:20px;background-color:rgba(0,0,0,.8);font-size:12px}.crop-line[data-v-7f57ac98]{position:absolute;display:block;width:100%;height:100%;opacity:.1}.line-w[data-v-7f57ac98]{top:-3px;left:0;height:5px;cursor:n-resize}.line-a[data-v-7f57ac98]{top:0;left:-3px;width:5px;cursor:w-resize}.line-s[data-v-7f57ac98]{bottom:-3px;left:0;height:5px;cursor:s-resize}.line-d[data-v-7f57ac98]{top:0;right:-3px;width:5px;cursor:e-resize}.crop-point[data-v-7f57ac98]{position:absolute;width:8px;height:8px;opacity:.75;background-color:#39f;border-radius:100%}.point1[data-v-7f57ac98]{top:-4px;left:-4px;cursor:nw-resize}.point2[data-v-7f57ac98]{top:-5px;left:50%;margin-left:-3px;cursor:n-resize}.point3[data-v-7f57ac98]{top:-4px;right:-4px;cursor:ne-resize}.point4[data-v-7f57ac98]{top:50%;left:-4px;margin-top:-3px;cursor:w-resize}.point5[data-v-7f57ac98]{top:50%;right:-4px;margin-top:-3px;cursor:w-resize}.point6[data-v-7f57ac98]{bottom:-5px;left:-4px;cursor:sw-resize}.point7[data-v-7f57ac98]{bottom:-5px;left:50%;margin-left:-3px;cursor:s-resize}.point8[data-v-7f57ac98]{bottom:-5px;right:-4px;cursor:nw-resize}@media screen and (max-width:500px){.crop-point[data-v-7f57ac98]{position:absolute;width:20px;height:20px;opacity:.45;background-color:#39f;border-radius:100%}.point1[data-v-7f57ac98]{top:-10px;left:-10px}.point2[data-v-7f57ac98],.point4[data-v-7f57ac98],.point5[data-v-7f57ac98],.point7[data-v-7f57ac98]{display:none}.point3[data-v-7f57ac98]{top:-10px;right:-10px}.point4[data-v-7f57ac98]{top:0;left:0}.point6[data-v-7f57ac98]{bottom:-10px;left:-10px}.point8[data-v-7f57ac98]{bottom:-10px;right:-10px}}',""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var o=this[e];o[2]?t.push("@media "+o[2]+"{"+o[1]+"}"):t.push(o[1])}return t.join("")},t.i=function(e,o){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},i=0;i<this.length;i++){var a=this[i][0];"number"==typeof a&&(r[a]=!0)}for(i=0;i<e.length;i++){var n=e[i];"number"==typeof n[0]&&r[n[0]]||(o&&!n[2]?n[2]=o:o&&(n[2]="("+n[2]+") and ("+o+")"),t.push(n))}},t}},function(t,e){t.exports=function(t,e,o,r){var i,a=t=t||{},n=typeof t.default;"object"!==n&&"function"!==n||(i=t,a=t.default);var c="function"==typeof a?a.options:a;if(e&&(c.render=e.render,c.staticRenderFns=e.staticRenderFns),o&&(c._scopeId=o),r){var s=Object.create(c.computed||null);Object.keys(r).forEach(function(t){var e=r[t];s[t]=function(){return e}}),c.computed=s}return{esModule:i,exports:a,options:c}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{ref:"cropper",staticClass:"vue-cropper"},[o("div",{staticClass:"cropper-box"},[o("div",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"cropper-box-canvas",style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+t.x/t.scale+"px,"+t.y/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"}},[o("img",{ref:"cropperImg",attrs:{src:t.img,alt:"cropper-img"}})])]),t._v(" "),o("div",{staticClass:"cropper-drag-box",class:{"cropper-move":t.move&&!t.crop,"cropper-crop":t.crop,"cropper-modal":t.cropping},on:{mousedown:t.startMove,touchstart:t.startMove,mouseover:t.scaleImg,mouseout:t.cancleScale}}),t._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:t.cropping,expression:"cropping"}],staticClass:"cropper-crop-box",style:{width:t.cropW+"px",height:t.cropH+"px",transform:"translate3d("+t.cropOffsertX+"px,"+t.cropOffsertY+"px,0)"}},[o("span",{staticClass:"cropper-view-box"},[o("img",{style:{width:t.trueWidth+"px",height:t.trueHeight+"px",transform:"scale("+t.scale+","+t.scale+") translate3d("+(t.x-t.cropOffsertX)/t.scale+"px,"+(t.y-t.cropOffsertY)/t.scale+"px,0)rotateZ("+90*t.rotate+"deg)"},attrs:{src:t.img,alt:"cropper-img"}})]),t._v(" "),o("span",{staticClass:"cropper-face cropper-move",on:{mousedown:t.cropMove,touchstart:t.cropMove}}),t._v(" "),t.info?o("span",{staticClass:"crop-info",style:{top:t.cropInfo}},[t._v(t._s(this.cropW)+" × "+t._s(this.cropH))]):t._e(),t._v(" "),o("span",{staticClass:"crop-line line-w",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),o("span",{staticClass:"crop-line line-a",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),o("span",{staticClass:"crop-line line-s",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),o("span",{staticClass:"crop-line line-d",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),o("span",{staticClass:"crop-point point1",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,1)}}}),t._v(" "),o("span",{staticClass:"crop-point point2",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,1)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,1)}}}),t._v(" "),o("span",{staticClass:"crop-point point3",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,1)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,1)}}}),t._v(" "),o("span",{staticClass:"crop-point point4",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,1,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,1,0)}}}),t._v(" "),o("span",{staticClass:"crop-point point5",on:{mousedown:function(e){t.changeCropSize(e,!0,!1,2,0)},touchstart:function(e){t.changeCropSize(e,!0,!1,2,0)}}}),t._v(" "),o("span",{staticClass:"crop-point point6",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,1,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,1,2)}}}),t._v(" "),o("span",{staticClass:"crop-point point7",on:{mousedown:function(e){t.changeCropSize(e,!1,!0,0,2)},touchstart:function(e){t.changeCropSize(e,!1,!0,0,2)}}}),t._v(" "),o("span",{staticClass:"crop-point point8",on:{mousedown:function(e){t.changeCropSize(e,!0,!0,2,2)},touchstart:function(e){t.changeCropSize(e,!0,!0,2,2)}}})])])},staticRenderFns:[]}},function(t,e,o){var r=o(3);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals),o(8)("86f24dac",r,!0)},function(t,e,o){function r(t){for(var e=0;e<t.length;e++){var o=t[e],r=h[o.id];if(r){r.refs++;for(var i=0;i<r.parts.length;i++)r.parts[i](o.parts[i]);for(;i<o.parts.length;i++)r.parts.push(a(o.parts[i]));r.parts.length>o.parts.length&&(r.parts.length=o.parts.length)}else{for(var n=[],i=0;i<o.parts.length;i++)n.push(a(o.parts[i]));h[o.id]={id:o.id,refs:1,parts:n}}}}function i(){var t=document.createElement("style");return t.type="text/css",d.appendChild(t),t}function a(t){var e,o,r=document.querySelector('style[data-vue-ssr-id~="'+t.id+'"]');if(r){if(f)return g;r.parentNode.removeChild(r)}if(v){var a=u++;r=l||(l=i()),e=n.bind(null,r,a,!1),o=n.bind(null,r,a,!0)}else r=i(),e=c.bind(null,r),o=function(){r.parentNode.removeChild(r)};return e(t),function(r){if(r){if(r.css===t.css&&r.media===t.media&&r.sourceMap===t.sourceMap)return;e(t=r)}else o()}}function n(t,e,o,r){var i=o?"":r.css;if(t.styleSheet)t.styleSheet.cssText=m(e,i);else{var a=document.createTextNode(i),n=t.childNodes;n[e]&&t.removeChild(n[e]),n.length?t.insertBefore(a,n[e]):t.appendChild(a)}}function c(t,e){var o=e.css,r=e.media,i=e.sourceMap;if(r&&t.setAttribute("media",r),i&&(o+="\n/*# sourceURL="+i.sources[0]+" */",o+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),t.styleSheet)t.styleSheet.cssText=o;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(o))}}var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var p=o(9),h={},d=s&&(document.head||document.getElementsByTagName("head")[0]),l=null,u=0,f=!1,g=function(){},v="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());t.exports=function(t,e,o){f=o;var i=p(t,e);return r(i),function(e){for(var o=[],a=0;a<i.length;a++){var n=i[a],c=h[n.id];c.refs--,o.push(c)}e?(i=p(t,e),r(i)):i=[];for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var s=0;s<c.parts.length;s++)c.parts[s]();delete h[c.id]}}}};var m=function(){var t=[];return function(e,o){return t[e]=o,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t,e){for(var o=[],r={},i=0;i<e.length;i++){var a=e[i],n=a[0],c=a[1],s=a[2],p=a[3],h={id:t+":"+i,css:c,media:s,sourceMap:p};r[n]?r[n].parts.push(h):o.push(r[n]={id:n,parts:[h]})}return o}}])})},568:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("y-shelf",{attrs:{title:"账户资料"}},[o("div",{attrs:{slot:"content"},slot:"content"},[o("div",{staticClass:"avatar-box"},[o("div",{staticClass:"img-box"},[o("img",{attrs:{src:t.userInfo.info.file,alt:""}})]),t._v(" "),o("div",{staticClass:"r-box"},[o("h3",{staticStyle:{"margin-left":"13px"}},[t._v("修改头像")]),t._v(" "),o("y-button",{staticStyle:{margin:"0"},attrs:{text:"上传头像",classStyle:"main-btn"},on:{btnClick:function(e){t.editAvatar()}}})],1)]),t._v(" "),t.editAvatarShow?o("div",{staticClass:"edit-avatar"},[o("y-shelf",{attrs:{title:"设置头像"}},[o("span",{attrs:{slot:"right"},slot:"right"},[o("span",{staticClass:"close",on:{click:function(e){t.editAvatarShow=!1}}},[o("svg",{staticClass:"icon",attrs:{t:"1501234940517",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"3014","xmlns:xlink":"http://www.w3.org/1999/xlink",width:"20",height:"20"}},[o("path",{attrs:{d:"M941.576 184.248l-101.824-101.824L512 410.176 184.248 82.424 82.424 184.248 410.168 512l-327.744 327.752 101.824 101.824L512 613.824l327.752 327.752 101.824-101.824L613.832 512z",fill:"#cdcdcd","p-id":"3015"}})])])]),t._v(" "),o("div",{staticClass:"content",attrs:{slot:"content"},slot:"content"},[o("div",{staticClass:"edit-l"},[o("div",{staticStyle:{width:"100px",height:"100px",border:"1px solid #ccc","margin-bottom":"20px",overflow:"hidden"}},[o("div",{staticClass:"show-preview",style:{width:t.previews.w+"px",height:t.previews.h+"px",overflow:"hidden",zoom:t.option.zoom}},[o("div",{style:t.previews.div},[o("img",{style:t.previews.img,attrs:{src:t.option.img}})])])]),t._v(" "),o("div",{staticStyle:{padding:"10px 0"}},[t._v("头像预览")]),t._v(" "),o("div",{staticClass:"btn"},[o("a",{attrs:{href:"javascript:;"}},[t._v("重新选择")]),t._v(" "),o("input",{attrs:{type:"file",value:"上传头像"},on:{change:function(e){t.upimg(e)}}})])]),t._v(" "),o("div",{staticClass:"edit-r"},[o("div",[t.option.img?o("div",{staticClass:"big",attrs:{id:"cropper-target"}},[o("vueCropper",{ref:"cropper",attrs:{img:t.option.img,outputSize:t.example2.size,info:t.example2.info,canScale:t.example2.canScale,autoCrop:t.example2.autoCrop,autoCropWidth:t.example2.width,autoCropHeight:t.example2.height,fixed:t.example2.fixed},on:{realTime:t.realTime}})],1):t._e()])]),t._v(" "),o("div",{staticClass:"bootom-btn pa"},[o("y-button",{staticStyle:{width:"140px",height:"40px","line-height":"40px"},attrs:{text:"取消"},on:{btnClick:function(e){t.editAvatarShow=!1}}}),t._v(" "),o("y-button",{staticStyle:{width:"140px",height:"40px","line-height":"40px"},attrs:{text:"确定",classStyle:"main-btn"},on:{btnClick:t.cropper}})],1)])])],1):t._e()])])],1)},staticRenderFns:[]}}});